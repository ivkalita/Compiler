var labelType, useGradients, nativeTextSupport, animate, editor, srcs, trees, cur, st;
        (function() {
          var ua = navigator.userAgent,
              iStuff = ua.match(/iPhone/i) || ua.match(/iPad/i),
              typeOfCanvas = typeof HTMLCanvasElement,
              nativeCanvasSupport = (typeOfCanvas == 'object' || typeOfCanvas == 'function'),
              textSupport = nativeCanvasSupport
                && (typeof document.createElement('canvas').getContext('2d').fillText == 'function');
          labelType = (!nativeCanvasSupport || (textSupport && !iStuff))? 'Native' : 'HTML';
          nativeTextSupport = labelType == 'Native';
          useGradients = nativeCanvasSupport;
          animate = !(iStuff || !nativeCanvasSupport);
        })();

        var Log = {
          elem: false,
          write: function(text){
            if (!this.elem)
              this.elem = document.getElementById('log');
            this.elem.innerHTML = text;
            this.elem.style.left = (500 - this.elem.offsetWidth / 2) + 'px';
          }
        };

        function init(){
            trees = [{"id":0,"name":"Program","children":[{"id":1,"name":"Heading","children":[{"id":2,"name":"t1"}]},{"id":3,"name":"Block","children":[{"id":4,"name":"CompoundStatement","children":[]}]}]},{"id":0,"name":"Program","children":[{"id":1,"name":"Heading","children":[{"id":2,"name":"t2"}]},{"id":3,"name":"Block","children":[{"id":4,"name":"CompoundStatement","children":[{"id":13,"name":"AssignmentStatement","children":[{"id":5,"name":"LValue","children":[{"id":7,"name":"EntireVariable","children":[{"id":8,"name":"identifier=a"},{"id":9,"name":"type=integer"}]}]},{"id":10,"name":"RValue","children":[{"id":12,"name":"1: integer"}]}]}]}]}]},{"id":0,"name":"Program","children":[{"id":1,"name":"Heading","children":[{"id":2,"name":"t3"}]},{"id":3,"name":"Block","children":[{"id":4,"name":"CompoundStatement","children":[{"id":14,"name":"AssignmentStatement","children":[{"id":5,"name":"LValue","children":[{"id":7,"name":"EntireVariable","children":[{"id":8,"name":"identifier=a"},{"id":9,"name":"type=integer"}]}]},{"id":10,"name":"RValue","children":[{"id":12,"name":"- : integer","children":[{"id":13,"name":"1: integer"}]}]}]},{"id":24,"name":"AssignmentStatement","children":[{"id":15,"name":"LValue","children":[{"id":17,"name":"EntireVariable","children":[{"id":18,"name":"identifier=a"},{"id":19,"name":"type=integer"}]}]},{"id":20,"name":"RValue","children":[{"id":22,"name":"+ : integer","children":[{"id":23,"name":"1: integer"}]}]}]}]}]}]},{"id":0,"name":"Program","children":[{"id":1,"name":"Heading","children":[{"id":2,"name":"t4"}]},{"id":3,"name":"Block","children":[{"id":4,"name":"CompoundStatement","children":[{"id":16,"name":"AssignmentStatement","children":[{"id":5,"name":"LValue","children":[{"id":7,"name":"EntireVariable","children":[{"id":8,"name":"identifier=a"},{"id":9,"name":"type=integer"}]}]},{"id":10,"name":"RValue","children":[{"id":12,"name":"+ : integer","children":[{"id":13,"name":"1: integer"},{"id":15,"name":"2: integer"}]}]}]},{"id":28,"name":"AssignmentStatement","children":[{"id":17,"name":"LValue","children":[{"id":19,"name":"EntireVariable","children":[{"id":20,"name":"identifier=a"},{"id":21,"name":"type=integer"}]}]},{"id":22,"name":"RValue","children":[{"id":24,"name":"- : integer","children":[{"id":25,"name":"1: integer"},{"id":27,"name":"2: integer"}]}]}]}]}]}]},{"id":0,"name":"Program","children":[{"id":1,"name":"Heading","children":[{"id":2,"name":"t5"}]},{"id":3,"name":"Block","children":[{"id":4,"name":"CompoundStatement","children":[{"id":19,"name":"AssignmentStatement","children":[{"id":5,"name":"LValue","children":[{"id":7,"name":"EntireVariable","children":[{"id":8,"name":"identifier=a"},{"id":9,"name":"type=integer"}]}]},{"id":10,"name":"RValue","children":[{"id":12,"name":"- : integer","children":[{"id":13,"name":"- : integer","children":[{"id":14,"name":"1: integer"},{"id":16,"name":"2: integer"}]},{"id":18,"name":"3: integer"}]}]}]}]}]}]},{"id":0,"name":"Program","children":[{"id":1,"name":"Heading","children":[{"id":2,"name":"t6"}]},{"id":3,"name":"Block","children":[{"id":4,"name":"CompoundStatement","children":[{"id":15,"name":"AssignmentStatement","children":[{"id":5,"name":"LValue","children":[{"id":7,"name":"EntireVariable","children":[{"id":8,"name":"identifier=a"},{"id":9,"name":"type=integer"}]}]},{"id":10,"name":"RValue","children":[{"id":12,"name":"- : integer","children":[{"id":14,"name":"1: integer"}]}]}]}]}]}]},{"id":0,"name":"Program","children":[{"id":1,"name":"Heading","children":[{"id":2,"name":"t7"}]},{"id":3,"name":"Block","children":[{"id":4,"name":"CompoundStatement","children":[{"id":18,"name":"AssignmentStatement","children":[{"id":5,"name":"LValue","children":[{"id":7,"name":"EntireVariable","children":[{"id":8,"name":"identifier=a"},{"id":9,"name":"type=integer"}]}]},{"id":10,"name":"RValue","children":[{"id":12,"name":"- : integer","children":[{"id":14,"name":"+ : integer","children":[{"id":15,"name":"1: integer"},{"id":17,"name":"2: integer"}]}]}]}]}]}]}]},{"id":0,"name":"Program","children":[{"id":1,"name":"Heading","children":[{"id":2,"name":"t8"}]},{"id":3,"name":"Block","children":[{"id":4,"name":"CompoundStatement","children":[{"id":22,"name":"AssignmentStatement","children":[{"id":5,"name":"LValue","children":[{"id":7,"name":"EntireVariable","children":[{"id":8,"name":"identifier=a"},{"id":9,"name":"type=integer"}]}]},{"id":10,"name":"RValue","children":[{"id":12,"name":"- : integer","children":[{"id":14,"name":"- : integer","children":[{"id":15,"name":"1: integer"},{"id":18,"name":"+ : integer","children":[{"id":19,"name":"2: integer"},{"id":21,"name":"3: integer"}]}]}]}]}]}]}]}]},{"id":0,"name":"Program","children":[{"id":1,"name":"Heading","children":[{"id":2,"name":"t9"}]},{"id":3,"name":"Block","children":[{"id":4,"name":"CompoundStatement","children":[{"id":16,"name":"AssignmentStatement","children":[{"id":5,"name":"LValue","children":[{"id":7,"name":"EntireVariable","children":[{"id":8,"name":"identifier=a"},{"id":9,"name":"type=integer"}]}]},{"id":10,"name":"RValue","children":[{"id":12,"name":"* : integer","children":[{"id":13,"name":"1: integer"},{"id":15,"name":"2: integer"}]}]}]}]}]}]},{"id":0,"name":"Program","children":[{"id":1,"name":"Heading","children":[{"id":2,"name":"t10"}]},{"id":3,"name":"Block","children":[{"id":4,"name":"CompoundStatement","children":[{"id":21,"name":"AssignmentStatement","children":[{"id":5,"name":"LValue","children":[{"id":7,"name":"EntireVariable","children":[{"id":8,"name":"identifier=a"},{"id":9,"name":"type=real"}]}]},{"id":10,"name":"RValue","children":[{"id":12,"name":"\/ : real","children":[{"id":13,"name":"convertedTo=real","children":[{"id":14,"name":"* : integer","children":[{"id":15,"name":"1: integer"},{"id":17,"name":"2: integer"}]}]},{"id":19,"name":"convertedTo=real","children":[{"id":20,"name":"3: integer"}]}]}]}]}]}]}]},{"id":0,"name":"Program","children":[{"id":1,"name":"Heading","children":[{"id":2,"name":"t11"}]},{"id":3,"name":"Block","children":[{"id":4,"name":"CompoundStatement","children":[{"id":22,"name":"AssignmentStatement","children":[{"id":5,"name":"LValue","children":[{"id":7,"name":"EntireVariable","children":[{"id":8,"name":"identifier=a"},{"id":9,"name":"type=real"}]}]},{"id":10,"name":"RValue","children":[{"id":12,"name":"+ : real","children":[{"id":13,"name":"convertedTo=real","children":[{"id":14,"name":"1: integer"}]},{"id":16,"name":"\/ : real","children":[{"id":17,"name":"convertedTo=real","children":[{"id":18,"name":"2: integer"}]},{"id":20,"name":"convertedTo=real","children":[{"id":21,"name":"3: integer"}]}]}]}]}]}]}]}]},{"id":0,"name":"Program","children":[{"id":1,"name":"Heading","children":[{"id":2,"name":"t12"}]},{"id":3,"name":"Block","children":[{"id":4,"name":"CompoundStatement","children":[{"id":22,"name":"AssignmentStatement","children":[{"id":5,"name":"LValue","children":[{"id":7,"name":"EntireVariable","children":[{"id":8,"name":"identifier=a"},{"id":9,"name":"type=real"}]}]},{"id":10,"name":"RValue","children":[{"id":12,"name":"\/ : real","children":[{"id":13,"name":"convertedTo=real","children":[{"id":15,"name":"+ : integer","children":[{"id":16,"name":"1: integer"},{"id":18,"name":"2: integer"}]}]},{"id":20,"name":"convertedTo=real","children":[{"id":21,"name":"3: integer"}]}]}]}]}]}]}]},{"id":0,"name":"Program","children":[{"id":1,"name":"Heading","children":[{"id":2,"name":"t13"}]},{"id":3,"name":"Block","children":[{"id":4,"name":"ConstDefPart","children":[]},{"id":5,"name":"CompoundStatement","children":[]}]}]},{"id":0,"name":"Program","children":[{"id":1,"name":"Heading","children":[{"id":2,"name":"t14"}]},{"id":3,"name":"Block","children":[{"id":4,"name":"ConstDefPart","children":[]},{"id":5,"name":"CompoundStatement","children":[]}]}]},{"id":0,"name":"Program","children":[{"id":1,"name":"Heading","children":[{"id":2,"name":"t15"}]},{"id":3,"name":"Block","children":[{"id":4,"name":"ConstDefPart","children":[]},{"id":5,"name":"CompoundStatement","children":[]}]}]},{"id":0,"name":"Program","children":[{"id":1,"name":"Heading","children":[{"id":2,"name":"t16"}]},{"id":3,"name":"Block","children":[{"id":4,"name":"ConstDefPart","children":[]},{"id":5,"name":"CompoundStatement","children":[]}]}]},{"id":0,"name":"Program","children":[{"id":1,"name":"Heading","children":[{"id":2,"name":"t17"}]},{"id":3,"name":"Block","children":[{"id":4,"name":"ConstDefPart","children":[]},{"id":5,"name":"CompoundStatement","children":[]}]}]},{"id":0,"name":"Program","children":[{"id":1,"name":"Heading","children":[{"id":2,"name":"t18"}]},{"id":3,"name":"Block","children":[{"id":4,"name":"CompoundStatement","children":[{"id":18,"name":"AssignmentStatement","children":[{"id":5,"name":"LValue","children":[{"id":12,"name":"IndexedVariable","children":[{"id":7,"name":"EntireVariable","children":[{"id":8,"name":"identifier=a"},{"id":9,"name":"type=ARRAY??_1"}]},{"id":13,"name":"indexes","children":[{"id":11,"name":"0: integer"}]},{"id":14,"name":"type=integer"}]}]},{"id":15,"name":"RValue","children":[{"id":17,"name":"1: integer"}]}]}]}]}]},{"id":0,"name":"Program","children":[{"id":1,"name":"Heading","children":[{"id":2,"name":"t19"}]},{"id":3,"name":"Block","children":[{"id":4,"name":"CompoundStatement","children":[{"id":20,"name":"AssignmentStatement","children":[{"id":5,"name":"LValue","children":[{"id":14,"name":"IndexedVariable","children":[{"id":7,"name":"EntireVariable","children":[{"id":8,"name":"identifier=a"},{"id":9,"name":"type=ARRAY??_1"}]},{"id":15,"name":"indexes","children":[{"id":11,"name":"0: integer"},{"id":13,"name":"2: integer"}]},{"id":16,"name":"type=integer"}]}]},{"id":17,"name":"RValue","children":[{"id":19,"name":"1: integer"}]}]}]}]}]},{"id":0,"name":"Program","children":[{"id":1,"name":"Heading","children":[{"id":2,"name":"t20"}]},{"id":3,"name":"Block","children":[{"id":4,"name":"CompoundStatement","children":[{"id":16,"name":"AssignmentStatement","children":[{"id":5,"name":"LValue","children":[{"id":12,"name":"ComponentVariable","children":[{"id":7,"name":"EntireVariable","children":[{"id":8,"name":"identifier=a"},{"id":9,"name":"type=RECORD??_1"}]},{"id":10,"name":"designator=b"},{"id":11,"name":"type=integer"}]}]},{"id":13,"name":"RValue","children":[{"id":15,"name":"1: integer"}]}]}]}]}]},{"id":0,"name":"Program","children":[{"id":1,"name":"Heading","children":[{"id":2,"name":"t21"}]},{"id":3,"name":"Block","children":[{"id":4,"name":"CompoundStatement","children":[{"id":19,"name":"AssignmentStatement","children":[{"id":5,"name":"LValue","children":[{"id":15,"name":"ComponentVariable","children":[{"id":12,"name":"ComponentVariable","children":[{"id":7,"name":"EntireVariable","children":[{"id":8,"name":"identifier=a"},{"id":9,"name":"type=RECORD??_1"}]},{"id":10,"name":"designator=b"},{"id":11,"name":"type=RECORD??_2"}]},{"id":13,"name":"designator=c"},{"id":14,"name":"type=integer"}]}]},{"id":16,"name":"RValue","children":[{"id":18,"name":"1: integer"}]}]}]}]}]},{"id":0,"name":"Program","children":[{"id":1,"name":"Heading","children":[{"id":2,"name":"t22"}]},{"id":3,"name":"Block","children":[{"id":4,"name":"CompoundStatement","children":[{"id":21,"name":"AssignmentStatement","children":[{"id":5,"name":"LValue","children":[{"id":17,"name":"ComponentVariable","children":[{"id":12,"name":"IndexedVariable","children":[{"id":7,"name":"EntireVariable","children":[{"id":8,"name":"identifier=a"},{"id":9,"name":"type=ARRAY??_1"}]},{"id":13,"name":"indexes","children":[{"id":11,"name":"0: integer"}]},{"id":14,"name":"type=myrec"}]},{"id":15,"name":"designator=b"},{"id":16,"name":"type=integer"}]}]},{"id":18,"name":"RValue","children":[{"id":20,"name":"1: integer"}]}]}]}]}]},{"id":0,"name":"Program","children":[{"id":1,"name":"Heading","children":[{"id":2,"name":"t23"}]},{"id":3,"name":"Block","children":[{"id":4,"name":"CompoundStatement","children":[{"id":29,"name":"AssignmentStatement","children":[{"id":5,"name":"LValue","children":[{"id":23,"name":"IndexedVariable","children":[{"id":20,"name":"ComponentVariable","children":[{"id":17,"name":"ComponentVariable","children":[{"id":12,"name":"IndexedVariable","children":[{"id":7,"name":"EntireVariable","children":[{"id":8,"name":"identifier=a"},{"id":9,"name":"type=ARRAY??_2"}]},{"id":13,"name":"indexes","children":[{"id":11,"name":"0: integer"}]},{"id":14,"name":"type=myrec"}]},{"id":15,"name":"designator=b"},{"id":16,"name":"type=RECORD??_1"}]},{"id":18,"name":"designator=c"},{"id":19,"name":"type=ARRAY??_1"}]},{"id":24,"name":"indexes","children":[{"id":22,"name":"0: integer"}]},{"id":25,"name":"type=integer"}]}]},{"id":26,"name":"RValue","children":[{"id":28,"name":"1: integer"}]}]}]}]}]},{"id":0,"name":"Program","children":[{"id":1,"name":"Heading","children":[{"id":2,"name":"t24"}]},{"id":3,"name":"Block","children":[{"id":4,"name":"CompoundStatement","children":[{"id":25,"name":"AssignmentStatement","children":[{"id":5,"name":"LValue","children":[{"id":19,"name":"IndexedVariable","children":[{"id":7,"name":"EntireVariable","children":[{"id":8,"name":"identifier=a"},{"id":9,"name":"type=ARRAY??_1"}]},{"id":20,"name":"indexes","children":[{"id":11,"name":"+ : integer","children":[{"id":12,"name":"1: integer"},{"id":15,"name":"- : integer","children":[{"id":16,"name":"2: integer"},{"id":18,"name":"3: integer"}]}]}]},{"id":21,"name":"type=integer"}]}]},{"id":22,"name":"RValue","children":[{"id":24,"name":"1: integer"}]}]}]}]}]},{"id":0,"name":"Program","children":[{"id":1,"name":"Heading","children":[{"id":2,"name":"t25"}]},{"id":3,"name":"Block","children":[{"id":4,"name":"CompoundStatement","children":[{"id":25,"name":"AssignmentStatement","children":[{"id":5,"name":"LValue","children":[{"id":19,"name":"IndexedVariable","children":[{"id":7,"name":"EntireVariable","children":[{"id":8,"name":"identifier=a"},{"id":9,"name":"type=ARRAY??_2"}]},{"id":20,"name":"indexes","children":[{"id":16,"name":"IndexedVariable","children":[{"id":11,"name":"EntireVariable","children":[{"id":12,"name":"identifier=b"},{"id":13,"name":"type=ARRAY??_1"}]},{"id":17,"name":"indexes","children":[{"id":15,"name":"0: integer"}]},{"id":18,"name":"type=integer"}]}]},{"id":21,"name":"type=integer"}]}]},{"id":22,"name":"RValue","children":[{"id":24,"name":"1: integer"}]}]}]}]}]},{"id":0,"name":"Program","children":[{"id":1,"name":"Heading","children":[{"id":2,"name":"t26"}]},{"id":3,"name":"Block","children":[{"id":4,"name":"CompoundStatement","children":[{"id":17,"name":"AssignmentStatement","children":[{"id":5,"name":"LValue","children":[{"id":7,"name":"EntireVariable","children":[{"id":8,"name":"identifier=a"},{"id":9,"name":"type=integer"}]}]},{"id":10,"name":"RValue","children":[{"id":12,"name":"FunctionDesignator","children":[{"id":13,"name":"f"},{"id":15,"name":"ActualParamList","children":{"id":14,"name":"no params"}},{"id":16,"name":"returnType=integer"}]}]}]}]}]}]},{"id":0,"name":"Program","children":[{"id":1,"name":"Heading","children":[{"id":2,"name":"t27"}]},{"id":3,"name":"Block","children":[{"id":4,"name":"CompoundStatement","children":[{"id":18,"name":"AssignmentStatement","children":[{"id":5,"name":"LValue","children":[{"id":7,"name":"EntireVariable","children":[{"id":8,"name":"identifier=a"},{"id":9,"name":"type=integer"}]}]},{"id":10,"name":"RValue","children":[{"id":12,"name":"FunctionDesignator","children":[{"id":13,"name":"f"},{"id":16,"name":"ActualParamList","children":[{"id":15,"name":"1: integer"}]},{"id":17,"name":"returnType=integer"}]}]}]}]}]}]},{"id":0,"name":"Program","children":[{"id":1,"name":"Heading","children":[{"id":2,"name":"t28"}]},{"id":3,"name":"Block","children":[{"id":4,"name":"CompoundStatement","children":[{"id":23,"name":"AssignmentStatement","children":[{"id":5,"name":"LValue","children":[{"id":7,"name":"EntireVariable","children":[{"id":8,"name":"identifier=a"},{"id":9,"name":"type=real"}]}]},{"id":10,"name":"RValue","children":[{"id":12,"name":"FunctionDesignator","children":[{"id":13,"name":"f"},{"id":21,"name":"ActualParamList","children":[{"id":14,"name":"convertedTo=real","children":[{"id":16,"name":"1: integer"}]},{"id":18,"name":"EntireVariable","children":[{"id":19,"name":"identifier=b"},{"id":20,"name":"type=integer"}]}]},{"id":22,"name":"returnType=real"}]}]}]}]}]}]},{"id":0,"name":"Program","children":[{"id":1,"name":"Heading","children":[{"id":2,"name":"t29"}]},{"id":3,"name":"Block","children":[{"id":4,"name":"CompoundStatement","children":[{"id":14,"name":"AssignmentStatement","children":[{"id":5,"name":"LValue","children":[{"id":7,"name":"PointerVariable","children":[{"id":8,"name":"EntireVariable","children":[{"id":9,"name":"identifier=a"},{"id":10,"name":"type=POINTER??_1"}]}]}]},{"id":11,"name":"RValue","children":[{"id":13,"name":"1: integer"}]}]}]}]}]},{"id":0,"name":"Program","children":[{"id":1,"name":"Heading","children":[{"id":2,"name":"t30"}]},{"id":3,"name":"Block","children":[{"id":4,"name":"CompoundStatement","children":[{"id":16,"name":"AssignmentStatement","children":[{"id":5,"name":"LValue","children":[{"id":7,"name":"EntireVariable","children":[{"id":8,"name":"identifier=a"},{"id":9,"name":"type=integer"}]}]},{"id":10,"name":"RValue","children":[{"id":12,"name":"PointerVariable","children":[{"id":13,"name":"EntireVariable","children":[{"id":14,"name":"identifier=b"},{"id":15,"name":"type=POINTER??_1"}]}]}]}]}]}]}]},{"id":0,"name":"Program","children":[{"id":1,"name":"Heading","children":[{"id":2,"name":"t31"}]},{"id":3,"name":"Block","children":[{"id":4,"name":"CompoundStatement","children":[{"id":21,"name":"AssignmentStatement","children":[{"id":5,"name":"LValue","children":[{"id":7,"name":"EntireVariable","children":[{"id":8,"name":"identifier=a"},{"id":9,"name":"type=integer"}]}]},{"id":10,"name":"RValue","children":[{"id":12,"name":"PointerVariable","children":[{"id":18,"name":"IndexedVariable","children":[{"id":13,"name":"EntireVariable","children":[{"id":14,"name":"identifier=b"},{"id":15,"name":"type=ARRAY??_1"}]},{"id":19,"name":"indexes","children":[{"id":17,"name":"0: integer"}]},{"id":20,"name":"type=POINTER??_1"}]}]}]}]}]}]}]},{"id":0,"name":"Program","children":[{"id":1,"name":"Heading","children":[{"id":2,"name":"t32"}]},{"id":3,"name":"Block","children":[{"id":4,"name":"CompoundStatement","children":[{"id":19,"name":"AssignmentStatement","children":[{"id":5,"name":"LValue","children":[{"id":7,"name":"EntireVariable","children":[{"id":8,"name":"identifier=a"},{"id":9,"name":"type=integer"}]}]},{"id":10,"name":"RValue","children":[{"id":12,"name":"PointerVariable","children":[{"id":18,"name":"ComponentVariable","children":[{"id":13,"name":"EntireVariable","children":[{"id":14,"name":"identifier=b"},{"id":15,"name":"type=RECORD??_1"}]},{"id":16,"name":"designator=c"},{"id":17,"name":"type=POINTER??_1"}]}]}]}]}]}]}]},{"id":0,"name":"Program","children":[{"id":1,"name":"Heading","children":[{"id":2,"name":"t33"}]},{"id":3,"name":"Block","children":[{"id":4,"name":"CompoundStatement","children":[{"id":33,"name":"AssignmentStatement","children":[{"id":5,"name":"LValue","children":[{"id":7,"name":"EntireVariable","children":[{"id":8,"name":"identifier=a"},{"id":9,"name":"type=integer"}]}]},{"id":10,"name":"RValue","children":[{"id":30,"name":"IndexedVariable","children":[{"id":12,"name":"PointerVariable","children":[{"id":27,"name":"ComponentVariable","children":[{"id":24,"name":"ComponentVariable","children":[{"id":13,"name":"PointerVariable","children":[{"id":19,"name":"IndexedVariable","children":[{"id":14,"name":"EntireVariable","children":[{"id":15,"name":"identifier=b"},{"id":16,"name":"type=ARRAY??_1"}]},{"id":20,"name":"indexes","children":[{"id":18,"name":"0: integer"}]},{"id":21,"name":"type=POINTER??_2"}]}]},{"id":22,"name":"designator=d"},{"id":23,"name":"type=RECORD??_1"}]},{"id":25,"name":"designator=c"},{"id":26,"name":"type=POINTER??_1"}]}]},{"id":31,"name":"indexes","children":[{"id":29,"name":"1: integer"}]},{"id":32,"name":"type=integer"}]}]}]}]}]}]}];
            srcs = [["{Test1: empty program}","program t1;","begin","end."],["{Test2: assignment with unsignment integer}","program t2;","var a: integer;","begin","\ta := 1;","end."],["{Test3: assignment with signed integer}","program t3;","var","\ta: integer;","begin","\ta := -1;","\ta := +1;","end."],["{Test4: assignment with simple expression}","program t4;","var","\ta: integer;","begin","\ta := 1 + 2;","\ta := 1 - 2;","end."],["{Test5: assignment with minus operation}","program t5;","var","\ta: integer;","begin","\ta := 1 - 2 - 3;","end."],["{Test6: assignment with priority}","program t6;","var","\ta: integer;","begin","\ta := -(1);","end."],["{Test7: assignment with priority2}","program t7;","var","\ta: integer;","begin","\ta := -(1 + 2);","end."],["{Test8: assignment with priority3}","program t8;","var","\ta: integer;","begin","\ta := -(1 - (2 + 3));","end."],["{Test9: assignment with mult}","program t9;","var","\ta: integer;","begin","\ta := 1 * 2;","end."],["{Test10: assignment with mult2}","program t10;","var","\ta: real;","begin","\ta := 1 * 2 \/ 3;","end."],["{Test11: assignment with mult and add}","program t11;","var","\ta: real;","begin","\ta := 1 + 2 \/ 3;","end."],["{Test12: assignment with mult, add and priority}","program t12;","var","\ta: real;","begin","\ta := (1 + 2) \/ 3;","end."],["{Test13: consts unsigned int}","program t13;","const","\ta = 1;","begin","end."],["{Test14: consts 2 }","program t14;","const","\ta = 10;","\tb = 3;","begin","end."],["{Test15: consts unsigned float}","program t15;","const","\ta = 1.5;","begin","end."],["{Test16: consts 2 float}","program t16;","const","\ta = 1.5;","\tb =  2e-3;","begin","end."],["{Test17: consts string}","program t17;","const","\ta = 'abc';","begin","end."],["{Test18: assignment to 1-d array}","program t18;","var","\ta: array [0..5] of integer;","begin","\ta[0] := 1;","end."],["{Test19: assignment to 2-d array}","program t19;","var","\ta: array [0..2, 0..2] of integer;","begin","\ta[0, 2] := 1;","end."],["{Test20: assignment to record}","program t20;","var","\ta: record","\t\tb: integer;","\tend;","begin","\ta.b := 1;","end."],["{Test21: assignment to 2-level record}","program t21;","var","\ta: record","\t\tb: record","\t\t\tc: integer;","\t\tend;","\tend;","begin","\ta.b.c := 1;","end."],["{Test22: assignment to array of records}","program t22;","type","\tmyrec = record","\t\tb: integer;","\tend;","var","\ta: array [0..2] of myrec;","begin","\ta[0].b := 1;","end."],["{Test23: assignment to array of records with array}","program t23;","type","myrec = record","\tb: record","\t\tc: array [0..1] of integer;","\tend;","end;","var","\ta: array [0..2] of myrec;","begin","\ta[0].b.c[0] := 1;","end."],["{Test24: assignment to array, expression as index}","program t24;","var","\ta: array [0..3] of integer;","begin","\ta[1+(2-3)] := 1;","end."],["{Test25: assignment to array, array as index}","program t25;","var","\tb: array [0..2] of integer;","\ta: array [0..2] of integer;","begin","\ta[b[0]] := 1;","end."],["{Test26: assignment with function-designator}","program t26;","","var","\ta: integer;","","function f(): integer;","begin","\tresult := 2;","end;","","begin","\ta := f();","end."],["{Test27: assignment with function-designator2}","program t27;","","var","\ta: integer;","","function f(arg1: integer): integer;","begin","\tresult := arg1;","end;","","begin","\ta := f(1);","end."],["{Test28: assignment with function-designator3}","program t28;","","var","\ta: real;","\tb: integer;","","function f(arg1: real; arg2: integer): real;","begin","\tresult := arg1 + arg2;","end;","","begin","\ta := f(1, b);","end."],["{Test29: assignment to pointer}","program t29;","","var","\ta: ^integer;","","begin","\ta^ := 1;","end."],["{Test30: assignment with pointer}","program t30;","","var","\ta: integer;","\tb: ^integer;","","begin","\ta := b^;","end."],["{Test31: pointer and array}","program t31;","var","\ta: integer;","\tb: array [0..2] of ^integer;","","begin","\ta := b[0]^;","end."],["{Test32: pointer and record}","program t32;","var","\tb: record","\t\tc: ^integer;","\tend;","\ta: integer;","begin","\ta := b.c^;","end."],["{Test33: pointer and record and array}","program t33;","type","\tarr = array [0..2] of integer;","\trec1 = record","\t\td: record","\t\t\tc: ^arr;","\t\tend;","\tend;","var","\ta: integer;","\tb: array [0..2] of ^rec1;","begin","\ta := b[0]^.d.c^[1];","end."]];
            st = new $jit.ST({
                levelsToShow: 200,
                orientation: "top",
                injectInto: 'infovis',
                duration: 0,
                transition: $jit.Trans.Quart.easeInOut,
                levelDistance: 30,
                Navigation: {
                  enable:true,
                  panning:true
                },
                Node: {
                    height: 30,
                    width: 120,
                    type: 'rectangle',
                    color: '#aaa',
                    overridable: true
                },

                Edge: {
                    type: 'bezier',
                    overridable: true
                },

                onBeforeCompute: function(node){
                    Log.write("loading " + node.name);
                },

                onAfterCompute: function(){
                    Log.write("done");
                },

                onCreateLabel: function(label, node){
                    label.id = node.id;
                    label.innerHTML = node.name;
                    label.onclick = function(){
                        st.onClick(node.id);
                    };
                    var style = label.style;
                    style.width = 60 + 'px';
                    style.height = 17 + 'px';
                    style.cursor = 'pointer';
                    style.color = '#333';
                    style.fontSize = '0.8em';
                    style.textAlign= 'center';
                    style.paddingTop = '3px';
                },

                onBeforePlotNode: function(node){
                    if (node.selected) {
                        node.data.$color = "#ff7";
                    }
                    else {
                        delete node.data.$color;
                        if(!node.anySubnode("exist")) {
                            var count = 0;
                            node.eachSubnode(function(n) { count++; });
                            node.data.$color = ['#aaa', '#baa', '#caa', '#daa', '#eaa', '#faa'][count];
                        }
                    }
                },

                onBeforePlotLine: function(adj){
                    if (adj.nodeFrom.selected && adj.nodeTo.selected) {
                        adj.data.$color = "#eed";
                        adj.data.$lineWidth = 3;
                    }
                    else {
                        delete adj.data.$color;
                        delete adj.data.$lineWidth;
                    }
                }
            });
            st.loadJSON(trees[0]);
            st.compute();
            st.onClick(st.root);
            editor = ace.edit("editor");
            editor.setTheme("ace/theme/monokai");
            editor.getSession().setMode("ace/mode/pascal");
            cur = 0;
            switchToTest();
            document.getElementById("btnNext").onclick = function(e) {
                cur++;
                switchToTest();
            }
            document.getElementById("btnPrev").onclick = function(e) {
                cur--;
                switchToTest();
            }
        }

        function switchToTest() {
            editor.setValue('');
            if (cur >= srcs.length || cur < 0) {
                return;
            }
            st.loadJSON(trees[cur]);
            st.refresh();
            srcs[cur].forEach(function(elem) {
                editor.insert(elem + '\n');
            });
        }